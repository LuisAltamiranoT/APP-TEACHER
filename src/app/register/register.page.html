<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title class="ion-text-center"></ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-img [src]="'../../assets/icon/logoNival.PNG'" id="logoRegister"></ion-img>
    </ion-row>
    <ion-row class="ion-margin-top">
      <div *ngIf="validate else login">
      </div>
    </ion-row>
    <ion-row class="ion-margin-top">
      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">

        <mat-form-field hintLabel='{{mensaje_nombre}}' appearance="standard" class="input-modal">
          <mat-label>Nombres</mat-label>
          <input matInput [type]="'text'" autocomplete="off" placeholder="Ej. Carlos Sebastian" spellcheck="false"
            formControlName="nombre" required (keypress)="IngresarSoloLetras($event)">
          <mat-icon matSuffix>person</mat-icon>
        </mat-form-field>

        <mat-form-field hintLabel='{{mensaje_apellido}}' appearance="standard" class="input-modal">
          <mat-label>Apellidos</mat-label>
          <input matInput [type]="'text'" autocomplete="off" placeholder="Ej: Perez Ruiz" spellcheck="false"
            formControlName="apellido" required (keypress)="IngresarSoloLetras($event)">
          <mat-icon matSuffix>person</mat-icon>
        </mat-form-field>

        <mat-form-field hintLabel="Correo otorgado por la institución" appearance="standard" class="input-modal">
          <mat-label>Correo Electrónico</mat-label>
          <input matInput [type]="'email'" autocomplete="off" spellcheck="false"
            placeholder="Ej: pepito.perez@epn.edu.ec" formControlName="email" required>
          <mat-icon matSuffix>email</mat-icon>
        </mat-form-field>

        <mat-form-field hintLabel="Mínimo 6 Caracteres" appearance="standard" class="input-modal">
          <mat-label>Contraseña</mat-label>
          <input matInput #pass [type]="hide ? 'password' : 'text'" autocomplete="off" spellcheck="false"
            placeholder="**********" formControlName="password" required>
          <a class="aNival" mat-icon-button matSuffix (click)="hide = !hide" [attr.arial-label]="'Hide password'"
            [attr.arial-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility' }}</mat-icon>
          </a>
          <mat-hint align="end">{{pass.value?.length || 0}}/6</mat-hint>
        </mat-form-field>

        <mat-form-field appearance="standard" class="input-modal">
          <mat-label>Repetir Contraseña</mat-label>
          <input matInput [type]="hide2 ? 'password' : 'text'" autocomplete="off" spellcheck="false" placeholder="**********"
          formControlName="_password" required>
          <a class="aNival" mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.arial-label]="'Hide password'"
            [attr.arial-pressed]="hide2">
            <mat-icon>{{hide2 ? 'visibility_off' : 'visibility' }}</mat-icon>
          </a>

          <mat-hint *ngIf="!validacionPass" style="color: red;">Las contraseñas no coinciden</mat-hint>
        </mat-form-field>

        <ion-button color="secondary" expand="block" class="ion-margin-top" size="small"
          [disabled]="!registerForm.valid" type="submit">Enviar</ion-button>
      </form>
    </ion-row>
  </ion-grid>
</ion-content>

<ng-template #login>
  <ion-progress-bar type="indeterminate"></ion-progress-bar>
</ng-template>